{"version":3,"file":"flickr-coverflow-2.1.1-dev.js","sources":["../src/logger.js","../src/sheet-list.js","../src/style.js","../src/signal.js","../src/validator.js","../src/coverflow.js","../src/flickr-data-source.js"],"sourcesContent":["export default new (class Logger {\n  #level = 'info'\n  \n  static #levels = [\n    'debug',\n    'log',\n    'info',\n    'warn',\n    'error'\n  ]\n  \n  get level () {\n    return this.#level\n  }\n  \n  set level (newLevel) {\n    let levelIndex\n  \n    newLevel = ((newLevel && newLevel.trim()) || '').toLowerCase()\n  \n    if (!newLevel) {\n      throw Error(`[FlickrCoverflow.Logger] - set level - level argument must be provided. actual: \"${newLevel}\"`)\n    }\n  \n    levelIndex = Logger.#levels.indexOf(newLevel)\n  \n    if (levelIndex < 0) {\n      throw Error(`[FlickrCoverflow.Logger] - set level - \"${newLevel}\" log level is not supported`)\n    }\n  \n    this.#level = newLevel\n  \n    if (levelIndex > 0) {\n      for (let level of Logger.#levels.slice(0, levelIndex)) {\n        this[level] = Logger.#noaction\n      }\n    }\n  \n    for (let level of Logger.#levels.slice(levelIndex)) {\n      this[level] = this.#trace.bind(this, level)\n    }\n  \n    this.info(`[FlickrCoverflow.Logger] - set level - Level has been set to \"${newLevel}\"`)\n  }\n  \n  constructor () {\n    for (let level of Logger.#levels) {\n      this[level] = Logger.#noaction\n    }\n  }\n  \n  static #noaction() {}\n  \n  #trace (level, ...params) {\n    if (!(level in console)) {\n      level = 'log'\n    }\n    console[level](...params)\n  }\n})()\n","export default class SheetList {\n  #sizes = {\n    small: { minHeight: 102 },\n    medium: { minHeight: 202 },\n    large: { minHeight: 302 }\n  }\n  \n  #containerId\n  #size\n  #prefix\n  #frame3dSheetTemplate\n\n  get containerId () {\n    return this.#containerId\n  }\n\n  get size () {\n    return this.#size\n  }\n\n  get container2DSheet () { return `.${this.#prefix}{display:block;height:100%;min-height:${this.#sizes[this.#size].minHeight}px;position:relative;width:100%;}`; }\n\n  get frame2DSheet () { return `.${this.#prefix}-frame{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:100%;left:0;margin-left:33.5%;margin-right:33.5%;position:absolute;top:0;width:33%;}.${this.#prefix}-frame[data-template]{display:none;}.${this.#prefix}--visible[data-${this.#prefix}-index='0']{-webkit-transform:translateX(-101.25%);transform:translateX(-101.25%);}.${this.#prefix}--visible[data-${this.#prefix}-index='1']{-webkit-transform:translateX(-66%);transform:translateX(-66%);}.${this.#prefix}--visible[data-${this.#prefix}-index='2']{-webkit-transform:translateX(-33%);transform:translateX(-33%);}.${this.#prefix}--visible[data-${this.#prefix}-index='3']{-webkit-transform:translateX(0);transform:translateX(0);z-index:3;}.${this.#prefix}--visible[data-${this.#prefix}-index='4']{-webkit-transform:translateX(33%);transform:translateX(33%);z-index:2;}.${this.#prefix}--visible[data-${this.#prefix}-index='5']{-webkit-transform:translateX(66%);transform:translateX(66%);z-index:1;}.${this.#prefix}--visible[data-${this.#prefix}-index='6']{-webkit-transform:translateX(101.25%);transform:translateX(101.25%);}.${this.#prefix}--before{-webkit-transform:translateX(-101.25%);transform:translateX(-101.25%);}.${this.#prefix}--after{-webkit-transform:translateX(101.25%);transform:translateX(101.25%);}.${this.#prefix}-inner-frame{align-content:center;align-items:center;display:flex;flex-direction:column;height:100%;justify-content:flex-end;}.${this.#prefix}-image{flex:0 1 auto;max-height:100%;max-width:100%;vertical-align:middle;}.${this.#prefix}-title{bottom:0;font-family:Helvetica;left:0;position:absolute;text-align:center;width:100%;}.${this.#prefix}-frame:not(.${this.#prefix}--visible){opacity:0;visibility:hidden;}.${this.#prefix}--visible{display:block;opacity:1;visibility:visible;}.${this.#prefix}-image{pointer-events:auto;}`; }\n\n  constructor ({ containerId, size, prefix }) {\n    this.#containerId = containerId\n    this.#size = size\n    this.#prefix = prefix\n    this.#frame3dSheetTemplate = `$IDs .${this.#prefix}--visible[data-${this.#prefix}-index='0']{-webkit-transform:translateX(-101.25%) rotateY(45deg);transform:translateX(-101.25%) rotateY(45deg);}$IDs .${this.#prefix}--visible[data-${this.#prefix}-index='1']{-webkit-transform:translateX(-66%) rotateY(45deg);transform:translateX(-66%) rotateY(45deg);}$IDs .${this.#prefix}--visible[data-${this.#prefix}-index='2']{-webkit-transform:translateX(-33%) rotateY(45deg);transform:translateX(-33%) rotateY(45deg);}$IDs .${this.#prefix}--visible[data-${this.#prefix}-index='3']{-webkit-transform:translateX(0) rotateY(0);transform:translateX(0) rotateY(0);}$IDs .${this.#prefix}--visible[data-${this.#prefix}-index='4']{-webkit-transform:translateX(33%) rotateY(-45deg);transform:translateX(33%) rotateY(-45deg);}$IDs .${this.#prefix}--visible[data-${this.#prefix}-index='5']{-webkit-transform:translateX(66%) rotateY(-45deg);transform:translateX(66%) rotateY(-45deg);}$IDs .${this.#prefix}--visible[data-${this.#prefix}-index='6']{-webkit-transform:translateX(101.25%) rotateY(-45deg);transform:translateX(101.25%) rotateY(-45deg);}$IDs [data-${this.#prefix}-index='0'],$IDs [data-${this.#prefix}-index='1'],$IDs [data-${this.#prefix}-index='2'],$IDs .${this.#prefix}--before{-webkit-transform-origin:left center;transform-origin:left center;}$IDs [data-${this.#prefix}-index='4'],$IDs [data-${this.#prefix}-index='5'],$IDs [data-${this.#prefix}-index='6'],$IDs .${this.#prefix}--after{-webkit-transform-origin:right center;transform-origin:right center;}$IDs .${this.#prefix}--before{-webkit-transform:translateX(-101.25%) rotateY(45deg);transform:translateX(-101.25%) rotateY(45deg);}$IDs .${this.#prefix}--after{-webkit-transform:translateX(101.25%) rotateY(-45deg);transform:translateX(101.25%) rotateY(-45deg);}`\n  }\n\n  getContainer3DSheet (...containerIDs) {\n    return `#${containerIDs.join(',#')}{-webkit-transform-style:preserve-3d;perspective:1000px;transform-style:preserve-3d;}`\n  }\n\n  getFrame3DSheet (...containerIDs) {\n    const placeHolder = /\\$IDs ([^,\\{]+)/g\n    const template = this.#frame3dSheetTemplate\n\n    return template.replace(\n      placeHolder,\n      this.#replacer.bind(Object.create(null), containerIDs)\n    )\n  }\n\n  #replacer (ids, placeholder, selector) {\n    return ids.map((id) => `#${id} ${selector}`).join(',')\n  }\n\n}\n","import Logger from './logger'\nimport SheetList from './sheet-list'\n\nexport default class Style {\n  #sheetList\n  #threeD\n  #prefix\n  \n  get config () {\n    return this.#sheetList && {\n      containerId: this.#sheetList.containerId,\n      size: this.#sheetList.size,\n      '3d': this.#threeD\n    }\n  }\n\n  constructor ({\n    containerId,\n    size = 'small',\n    '3d': d3 = false,\n    prefix\n  }) {\n    if (!containerId) {\n      throw Error('containerId is required')\n    }\n\n    this.#sheetList = new SheetList({\n      containerId,\n      size,\n      prefix\n    })\n    \n    this.#threeD = d3\n    this.#prefix = prefix\n  }\n\n  insertSheets () {\n    if (!this.#sheetList.containerId) {\n      throw Error('containerId must be configured first')\n    }\n\n    this.#addCssClass()\n\n    const containerIdsAttribute = 'container-ids'\n\n    let containerId = this.#sheetList.containerId\n    let cssClass = this.#prefix\n    let d2ContainerId = `${cssClass}-2D`\n    let d2ContainerStyle\n    let d2Id = `${cssClass}-sheet-2D`\n    let d2Style\n    let d3ContainerId = `${cssClass}-3D`\n    let d3ContainerStyle\n    let d3Id = `${cssClass}-sheet-3D`\n    let d3Style\n\n    if (!(d2ContainerStyle = document.getElementById(d2ContainerId))) {\n      d2ContainerStyle = this.#insertSheet(d2ContainerId, this.#sheetList.container2DSheet)\n    }\n\n    if (!(d2Style = document.getElementById(d2Id))) {\n      d2Style = this.#insertSheet(d2Id, this.#sheetList.frame2DSheet, d2ContainerStyle)\n    }\n\n    if (this.#threeD) {\n      if (!(d3ContainerStyle = document.getElementById(d3ContainerId))) {\n        d3ContainerStyle = this.#insertSheet(\n          d3ContainerId,\n          this.#sheetList.getContainer3DSheet(containerId),\n          d2Style\n        )\n\n        d3ContainerStyle.setAttribute(containerIdsAttribute, containerId)\n      } else {\n        let base64Style\n        let ids = d3ContainerStyle.getAttribute(containerIdsAttribute).split(',')\n\n        ids.push(containerId)\n        base64Style = window.btoa(this.#sheetList.getContainer3DSheet(...ids))\n        d3ContainerStyle.href = `data:text/css;base64,${base64Style}`\n        d3ContainerStyle.setAttribute(containerIdsAttribute, ids.join(','))\n      }\n\n      if (!(d3Style = document.getElementById(d3Id))) {\n        d3Style = this.#insertSheet(\n          d3Id,\n          this.#sheetList.getFrame3DSheet(containerId),\n          d3ContainerStyle\n        )\n\n        d3Style.setAttribute(containerIdsAttribute, containerId)\n      } else {\n        let base64Style\n        let ids = d3Style.getAttribute(containerIdsAttribute).split(',')\n\n        ids.push(containerId)\n        base64Style = window.btoa(this.#sheetList.getFrame3DSheet(...ids))\n        d3Style.href = `data:text/css;base64,${base64Style}`\n        d3Style.setAttribute(containerIdsAttribute, ids.join(','))\n      }\n    }\n  }\n\n  #addCssClass () {\n    document.getElementById(this.#sheetList.containerId).classList.add(this.#prefix)\n  }\n\n  #insertSheet (id, content, previous) {\n    let base64Style\n    let style = document.createElement('link')\n\n    style.id = id\n    style.rel = 'stylesheet'\n    base64Style = window.btoa(content)\n    style.href = `data:text/css;base64,${base64Style}`\n\n    Logger.debug(`[flickr-coverflow/Style] - insertSheet - ${id}:`, content)\n\n    if (previous) {\n      previous.insertAdjacentElement('afterend', style)\n    } else {\n      document.head.insertAdjacentElement('afterbegin', style)\n    }\n\n    return style\n  }\n}\n","const Ø = Object.freeze(Object.create(null))\n\nexport default class Signal {\n  #listeners\n  \n  register (listener) {\n    if (typeof listener === 'function') {\n      (this.#listeners != null ? this.#listeners : (this.#listeners = [])).push(listener)\n    }\n  }\n\n  unregister (listener) {\n    if (this.#listeners) {\n      let index = this.#listeners.indexOf(listener)\n      if (index >= 0) { return this.#listeners.splice(index, 1) }\n    }\n  }\n\n  clear () { this.#listeners = undefined }\n\n  send (data) {\n    if (this.#listeners) {\n      // making a copy of this.#listeners\n      // to prevent \"unregister()\" to mess with listeners notification\n      for (let listener of this.#listeners.slice()) {\n        listener.call(Ø, data)\n      }\n    }\n  }\n}\n","export default class Validator {\n  #host\n  #method\n  \n  constructor (host = '[Validator]', method = 'check') {\n    this.#host = host\n    this.#method = method\n  }\n\n  method (method) {\n    this.#method = method\n    return this\n  }\n\n  checkDefined (parameter) {\n    let name = Object.keys(parameter)[0]\n    let value = parameter[name]\n\n    if (value === undefined || value === null) {\n      throw Error(`${this.#host} - ${this.#method} - parameter ${name} is required`)\n    }\n  }\n\n  checkNumber (parameter, possibleValues) {\n    let name = Object.keys(parameter)[0]\n    let value = parameter[name]\n\n    if (!possibleValues) {\n      if (typeof value !== 'number') {\n        throw Error(`${this.#host} - ${this.#method} - parameter ${name} is required and must be a number. Actual: ${value}`)\n      }\n    } else {\n      if (possibleValues.indexOf(value) < 0) {\n        throw Error(`${this.#host} - ${this.#method} - parameter ${name} must be one of ${possibleValues}. Actual: ${value}`)\n      }\n    }\n  }\n\n  checkString (parameter, possibleValues) {\n    let name = Object.keys(parameter)[0]\n    let value = parameter[name]\n\n    if (!possibleValues) {\n      if (typeof value !== 'string' || !value.trim()) {\n        throw Error(`${this.#host} - ${this.#method} - parameter ${name} is required and must be a non-empty string. Actual: ${value}`)\n      }\n    } else {\n      if (possibleValues.indexOf(value) < 0) {\n        throw Error(`${this.#host} - ${this.#method} - parameter ${name} must be one of ${possibleValues}. Actual: ${value}`)\n      }\n    }\n  }\n}\n","import Logger from './logger'\nimport Style from './style'\nimport Signal from './signal'\nimport Validator from './validator'\n\nconst MEDIAN = 3\nconst STARTING_FRAME = MEDIAN\nconst TOUCH_MOVE_STEP = 70\nconst TEMPLATE_ATT = 'data-template'\nconst ZOOM_ATT = 'data-zoom-url'\nconst DESC_ATT = 'data-description'\nconst ID_ATT = 'data-id'\nconst PAGE_SIZE = 7\nconst CLICK = 'click'\nconst TAP_THRESHOLD_DURATION = 100\nconst GHOST_FRAME_ATT = 'data-ghost-frame'\n\nconst LARGE_URL_PROPS = [\n  'url_w',\n  'url_n',\n  'url_m'\n]\n\nconst ZOOM_URL_PROPS = [\n  'url_b',\n  'url_c',\n  'url_z',\n  ...LARGE_URL_PROPS\n]\n\nfunction getLargeUrl (rawImage) {\n  const urlProperty = LARGE_URL_PROPS.find(property => rawImage[property])\n  return rawImage[urlProperty]\n}\n\nfunction getZoomUrl (rawImage) {\n  const urlProperty = ZOOM_URL_PROPS.find(property => rawImage[property])\n  return rawImage[urlProperty]\n}\n\nfunction getDescription (rawImage) {\n  return rawImage.description?._content\n}\n\n/* Flickr Coverflow 2.1.1 */\nexport default class Coverflow {\n  static #CLASS_ID = '[flickr-coverflow/Coverflow]'\n\n  static #placeholder = 'data:image/png;base64,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'\n\n  static get PAGE_SIZE () {\n    return PAGE_SIZE\n  }\n\n  static get logLevel () {\n    return Logger.level\n  }\n\n  static set logLevel (level) {\n    Logger.level = level\n    Logger.info('%cFlickr Coverflow 2.1.1', 'font-size:80%;padding:0.2em 0.5em;color:#FFFFD5;background-color:#FF0066;')\n  }\n\n  static get #touchEnabled () {\n    return 'ontouchstart' in window\n  }\n\n  #threeD = false\n  #size = 'small'\n  #startX = 0\n  #deltaX = 0\n  #offset = 0\n  #images = []\n  #initialized = false\n  #startTime = Number.NEGATIVE_INFINITY\n  #container\n  #dataSource\n  #template\n  #startTarget\n  #prefix\n  #indexAttribute\n  #visibleCssClass\n  #firstVisibleCssClass\n  #medianVisibleCssClass\n  #lastVisibleCssClass\n  #frameCssClass\n\n  #on = {\n    init: new Signal(),\n    load: new Signal(),\n    zoom: new Signal(),\n    previous: new Signal(),\n    next: new Signal()\n  }\n  \n  get #bufferEndReached () {\n    return !this.#images[this.#offset + PAGE_SIZE]\n  }\n  \n  get #nextImage () {\n    return this.#images[this.#offset + PAGE_SIZE - STARTING_FRAME]\n  }\n  \n  get #nextMounted () {\n    return this.#allFrames[this.#offset + PAGE_SIZE]\n  }\n  \n  get #allFrames () {\n    return Array.from(this.#container.querySelectorAll(`.${this.#frameCssClass}:not([${TEMPLATE_ATT}])`))\n  }\n  \n  get #visibleFrames () {\n    return Array.from(this.#container.querySelectorAll(`.${this.#visibleCssClass}`))\n  }\n  \n  get #median () {\n    return this.#visibleFrames[MEDIAN]\n  }\n  \n  get #frameRightOfMedian () {\n    return this.#visibleFrames[MEDIAN + 1]\n  }\n  \n  get #pageChanged () {\n    return this.#offset % PAGE_SIZE === 0\n  }\n\n  constructor ({\n    dataSource,\n    container,\n    size = 'medium',\n    '3d': d3 = false,\n    prefix = 'flickrCoverflow'\n  } = {}) {\n    Logger.log(`${Coverflow.#CLASS_ID} - constructor`)\n    Logger.debug(`${Coverflow.#CLASS_ID} - constructor -`, { size, d3 })\n\n    const validator = new Validator(Coverflow.#CLASS_ID).method('constructor')\n\n    validator.checkDefined({dataSource})\n    validator.checkString({size}, ['small', 'medium', 'large'])\n    validator.checkString({prefix})\n\n    if (!container || !(container instanceof window.HTMLElement)) {\n      throw Error(`${Coverflow.#CLASS_ID} - constructor - parameter container is required and must be an HTMLElement. Actual: ${container}`)\n    }\n\n    if (!container.id || document.querySelectorAll(`#${container.id}`).length > 1) {\n      throw Error(`${Coverflow.#CLASS_ID} - constructor - parameter container must have a unique id. Actual: ${container.id}`)\n    }\n\n    if (container.classList.contains(this.#prefix)) {\n      Logger.warn(`${Coverflow.#CLASS_ID} - constructor - #${container.id} is already a coverflow`)\n      return\n    }\n    \n    if (dataSource.pageSize !== PAGE_SIZE) {\n      throw new Error(`mismatch between ${Coverflow.name}.pageSize (${PAGE_SIZE}) and ${dataSource.constructor.name}.pageSize (${dataSource.pageSize})`)\n    }\n\n    this.#prefix = prefix\n    this.#container = container\n    this.#threeD = d3\n    this.#size = size\n    this.#dataSource = dataSource\n    this.#indexAttribute = `data-${this.#prefix}-index`\n    this.#visibleCssClass = this.#prefix + '--visible'\n    this.#firstVisibleCssClass = this.#prefix + '--first-visible'\n    this.#medianVisibleCssClass = this.#prefix + '--median-visible'\n    this.#lastVisibleCssClass = this.#prefix + '--last-visible'\n    this.#frameCssClass = this.#prefix + '-frame'\n\n    this.#generateEventRegisterers()\n  }\n\n  #generateEventRegisterers () {\n    for (let event of Object.keys(this.#on)) {\n      let methodName = `on${event[0].toUpperCase()}${event.substring(1)}`\n\n      if (!this[methodName]) {\n        this[methodName] = function dynamicEventRegisterer (listener) {\n          this.#on[event].register(listener)\n          return { off: () => this.#on[event].unregister(listener) }\n        }\n      }\n    }\n  }\n\n  #createFrameTemplate () {\n    let template = this.#template = document.createElement('div')\n\n    template.classList.add(this.#frameCssClass)\n    template.setAttribute(TEMPLATE_ATT, 'yes')\n\n    template.innerHTML = `<div class=\"${this.#prefix}-inner-frame\">\n\t\t\t\t<img class=\"${this.#prefix}-image\" src=\"${Coverflow.#placeholder}\" />\n\t\t\t\t<div class=\"${this.#prefix}-title\"><span>No title</span></div>\n\t\t\t</div>`\n  }\n\n  #insertGhostFrame () {\n    let frame = this.#template.cloneNode(true)\n    frame.style.display = 'none'\n    frame.removeAttribute(TEMPLATE_ATT)\n    frame.setAttribute(GHOST_FRAME_ATT, '')\n    this.#container.appendChild(frame)\n    return frame\n  }\n\n  #insertFrame (image) {\n    let frame = this.#template.cloneNode(true)\n\n    let imageNode = frame.querySelector(`img.${this.#prefix}-image`)\n    let url = this.#getImageUrl(image)\n    let title = frame.querySelector(`.${this.#prefix}-title span`)\n\n    imageNode.setAttribute(ID_ATT, image.id)\n    imageNode.setAttribute(ZOOM_ATT, image.zoom)\n    imageNode.setAttribute('alt', image.title)\n    \n    if (image.description) {\n      imageNode.setAttribute(DESC_ATT, image.description)\n    }\n    \n    imageNode.style.backgroundImage = `url(${Coverflow.#placeholder})`\n    title.textContent = image.title\n\n    imageNode.addEventListener('error', function errorListener (e) {\n      Logger.error(`${Coverflow.#CLASS_ID} - #insertFrame - fail to load\\\n        image \"${url}\" due to error ${e}`)\n      imageNode.removeEventListener('error', errorListener)\n      imageNode.setAttribute('src', Coverflow.#placeholder)\n    }, false)\n\n    imageNode.addEventListener('load', () => {\n      imageNode.style.backgroundImage = ''\n    }, false)\n\n    imageNode.setAttribute('src', url)\n    frame.removeAttribute(TEMPLATE_ATT)\n\n    this.#container.appendChild(frame)\n    return frame\n  }\n\n  #getImageUrl (image) {\n    return image[this.#size]\n  }\n\n  #attachEvents () {\n    Logger.debug(`${Coverflow.#CLASS_ID} - #attachEvents - this.#offset:`, this.#offset)\n\n    if (Coverflow.#touchEnabled) {\n      this.#attachTouchEvents()\n    } else {\n      this.#attachZoomEvent()\n      this.#attachPreviousEvent()\n      this.#attachNextEvent()\n    }\n  }\n\n  #attachZoomEvent () {\n    this.#container.addEventListener(CLICK, (event) => this.#detectZoom(event.target), false)\n  }\n\n  #detectZoom (target) {\n    let frame = target.parentElement.parentElement\n\n    if (frame.classList.contains(this.#frameCssClass) && frame.classList.contains(this.#medianVisibleCssClass)) {\n      Logger.debug(`${Coverflow.#CLASS_ID} - #detectZoom - \"zoom\" event detected, dispatching event`)\n      this.#on.zoom.send(this.#getEventImagePayload(frame, target))\n    }\n  }\n\n  #attachTouchEvents () {\n    Logger.log(`${Coverflow.#CLASS_ID} - #attachTouchEvents`)\n\n    let container = this.#container\n\n    container.addEventListener('touchstart', (...args) => this.#onTouchStart(...args), false)\n    container.addEventListener('touchmove', (...args) => this.#onTouchMove(...args), false)\n    container.addEventListener('touchend', (...args) => this.#onTouchEnd(...args), false)\n  }\n\n  #onTouchStart (event) {\n    let firstTouch = event.targetTouches[0]\n    this.#startX = firstTouch.pageX\n    this.#startTime = Date.now()\n    this.#startTarget = firstTouch.target\n    Logger.debug(`${Coverflow.#CLASS_ID} - #onTouchStart - this.#startX:`, this.#startX)\n  }\n\n  #onTouchMove (event) {\n    let endX = event.targetTouches[0].pageX\n    let deltaX = this.#deltaX = endX - this.#startX\n\n    event.preventDefault()\n\n    const reset = () => {\n      this.#startX = endX\n      this.#deltaX = deltaX = 0\n    }\n\n    Logger.debug(`${Coverflow.#CLASS_ID} - #onTouchMove - this.#deltaX:`, deltaX)\n\n    if (deltaX > TOUCH_MOVE_STEP) {\n      reset()\n      this.#goToPreviousFrame()\n    }\n\n    if (deltaX < -TOUCH_MOVE_STEP) {\n      reset()\n      this.#goToNextFrame()\n    }\n  }\n\n  #onTouchEnd (event) {\n    let deltaTime = Date.now() - this.#startTime\n    let startTarget = this.#startTarget\n    this.#startTime = Number.NEGATIVE_INFINITY\n    this.#startTarget = undefined\n    this.#deltaX = 0\n\n    if (startTarget === event.changedTouches[0].target &&\n      deltaTime <= TAP_THRESHOLD_DURATION) {\n      this.#detectZoom(startTarget)\n    }\n  }\n\n  #goToPreviousFrame () {\n    let offset = this.#offset\n\n    if (offset) {\n      let frames = this.#allFrames\n      let lastFrame = frames[offset + PAGE_SIZE - 1]\n\n      lastFrame.classList.remove(\n          this.#visibleCssClass,\n          this.#firstVisibleCssClass,\n          this.#medianVisibleCssClass,\n          this.#lastVisibleCssClass\n      )\n\n      lastFrame.removeAttribute(this.#indexAttribute)\n      this.#offset = --offset\n      let previous = frames[offset]\n      previous.classList.add(this.#visibleCssClass)\n      this.#setVisibleFramesPosition()\n\n      const currentFrame = this.#median\n      const currentImage = currentFrame.querySelector(`.${this.#prefix}-image`)\n      this.#on.previous.send(this.#getEventImagePayload(currentFrame, currentImage))\n\n      return true\n    }\n\n    Logger.debug(`${Coverflow.#CLASS_ID} - #goToPreviousFrame - this.#offset:`, offset)\n  }\n\n  #setVisibleFramesPosition () {\n    let isFirstMarkerSet = false\n    let isLastMarkerSet = false\n\n    this.#visibleFrames.forEach((frame, position) => {\n      const nextVisibleFrame = this.#visibleFrames[position + 1]\n\n      frame.setAttribute(this.#indexAttribute, position)\n\n      frame.classList.toggle(\n          this.#firstVisibleCssClass,\n          !isFirstMarkerSet && (isFirstMarkerSet = !frame.hasAttribute(GHOST_FRAME_ATT))\n      )\n\n      frame.classList.toggle(\n          this.#medianVisibleCssClass,\n          position === MEDIAN\n      )\n\n      frame.classList.toggle(\n          this.#lastVisibleCssClass,\n          !isLastMarkerSet &&\n            position >= MEDIAN &&\n            (isLastMarkerSet = !nextVisibleFrame || nextVisibleFrame.hasAttribute(GHOST_FRAME_ATT))\n      )\n    })\n  }\n\n  #goToNextFrame () {\n    let nextMounted = this.#nextMounted\n    let frameRightOfMedian = this.#frameRightOfMedian\n\n    if (this.#nextImage || (nextMounted && frameRightOfMedian && !frameRightOfMedian.hasAttribute(GHOST_FRAME_ATT))) {\n      let offset = this.#offset\n      let firstVisibleFrame = this.#allFrames[offset]\n\n      firstVisibleFrame.classList.remove(\n          this.#visibleCssClass,\n          this.#firstVisibleCssClass,\n          this.#medianVisibleCssClass,\n          this.#lastVisibleCssClass\n      )\n\n      firstVisibleFrame.removeAttribute(this.#indexAttribute)\n\n      if (nextMounted) {\n        nextMounted.classList.add(this.#visibleCssClass)\n        this.#offset = ++offset\n        this.#loadNextPageOnChange()\n      } else {\n        this.#appendNextFrame()\n      }\n      this.#setVisibleFramesPosition()\n\n      const currentFrame = this.#median\n      const currentImage = currentFrame.querySelector(`.${this.#prefix}-image`)\n      this.#on.next.send(this.#getEventImagePayload(currentFrame, currentImage))\n      \n      return true\n    }\n\n    Logger.debug(`${Coverflow.#CLASS_ID} - #goToNextFrame - this.#offset:`, this.#offset)\n  }\n  \n  #getEventImagePayload (frame, target) {\n    return {\n      id: target.getAttribute(ID_ATT),\n      frame,\n      frameIndex: this.#offset + MEDIAN,\n      imageIndex: this.#offset,\n      target,\n      url: target.getAttribute(ZOOM_ATT)\n    }\n  }\n\n  #loadNextPageOnChange () {\n    if (this.#pageChanged && this.#bufferEndReached) {\n      this.loadNextPage()\n    }\n  }\n\n  #appendNextFrame () {\n    let nextImage = this.#nextImage\n\n    if (nextImage) {\n      this.#offset++\n      this.#insertFrame(nextImage)\n      this.#loadNextPageOnChange()\n    }\n  }\n\n  #attachPreviousEvent () {\n    this.#attachSwitchFrameEvent((index) => index < MEDIAN, (...args) => this.#goToPreviousFrame(...args))\n  }\n\n  #attachNextEvent () {\n    this.#attachSwitchFrameEvent((index) => index > MEDIAN, (...args) => this.#goToNextFrame(...args))\n  }\n\n  #attachSwitchFrameEvent (check, changeFrame) {\n    this.#container.addEventListener(CLICK, (event) => {\n      let frame = event.target.parentElement.parentElement\n\n      if (frame.classList.contains(this.#frameCssClass)) {\n        const index = parseInt(frame.getAttribute(this.#indexAttribute), 10)\n        if (check(index)) { changeFrame() }\n      }\n    }, false)\n  }\n\n  loadNextPage () {\n    this.#dataSource.nextPage().then((rawImages) => {\n      let images = this.#images\n      let imagesCount = images.length\n      let firstLoad = !imagesCount\n\n      images.push(...rawImages.map((rawImage) => {\n        let image = {\n          id: rawImage.id,\n          title: rawImage.title,\n          small: rawImage.url_t,\n          medium: rawImage.url_s,\n          large: getLargeUrl(rawImage),\n          zoom: getZoomUrl(rawImage),\n          description: getDescription(rawImage)\n        }\n\n        let frame = this.#insertFrame(image)\n\n        if (imagesCount++ < PAGE_SIZE - STARTING_FRAME) {\n          Logger.debug(`${Coverflow.#CLASS_ID} - loadNextPage - imagesCount: ${imagesCount}`)\n          frame.classList.add(this.#visibleCssClass)\n        }\n\n        return image\n      }))\n\n      if (firstLoad) {\n        this.#setVisibleFramesPosition()\n        this.#on.init.send()\n      }\n\n      if (rawImages.length) {\n        this.#on.load.send()\n      }\n\n      if (rawImages.length < PAGE_SIZE) {\n        for (let index = STARTING_FRAME; index--;) {\n          this.#insertGhostFrame()\n        }\n      }\n    })\n  }\n\n  init () {\n    if (!this.#initialized) {\n      let style\n\n      style = new Style({\n        containerId: this.#container.id,\n        size: this.#size,\n        '3d': this.#threeD,\n        prefix: this.#prefix\n      })\n\n      style.insertSheets()\n\n      this.#createFrameTemplate()\n      this.#attachEvents()\n\n      for (let index = STARTING_FRAME; index--;) {\n        this.#insertGhostFrame().classList.add(this.#visibleCssClass)\n      }\n\n      this.loadNextPage()\n\n      this.#initialized = true\n    } else {\n      Logger.warn(`${Coverflow.#CLASS_ID} - init - already initialized`)\n    }\n  }\n\n  next () {\n    return this.#goToNextFrame()\n  }\n\n  previous () {\n    return this.#goToPreviousFrame()\n  }\n}\n","import Logger from './logger'\nimport Validator from './validator'\n\nconst EXTRAS = [\n  'url_t',\n  'url_s',\n  'url_m',\n  'url_n',\n  'url_w',\n  'url_z',\n  'url_c',\n  'url_b',\n  'description'\n]\n\nexport default class FlickrDataSource {\n  static #CLASS_ID = '[flickr-coverflow/FlickrDataSource]'\n  static EMPTY_RESULTS = Object.freeze([])\n  #currentPage = 1\n  #endOfStream = false\n  #apiKey\n  #user\n  #source\n  #pageSize\n  \n  get pageSize () {\n    return this.#pageSize\n  }\n\n  constructor ({ apiKey, user, pageSize }) {\n    let validator = new Validator(FlickrDataSource.#CLASS_ID).method('constructor')\n\n    validator.checkString({ apiKey })\n    validator.checkString({ user })\n    validator.checkNumber({ pageSize })\n\n    this.#apiKey = apiKey\n    this.#user = user\n    this.#pageSize = pageSize\n    this.#source = `https://www.flickr.com/services/rest/?method=flickr.people.getPublicPhotos&format=json&nojsoncallback=1&extras=${EXTRAS.join(',')}&api_key=${apiKey}&user_id=${user}&per_page=${pageSize * 2}`\n  }\n\n  async nextPage () {\n    if (this.#endOfStream) {\n      return FlickrDataSource.EMPTY_RESULTS\n    }\n    \n    const response = await fetch(`${this.#source}&page=${this.#currentPage++}`)\n    const data = await response.json()\n    this.#endOfStream = !data.photos.photo.length\n    \n    Logger.debug('[FlickrCoverflow.FlickrDataSource] - nextPage -', {\n      loaded: data.photos.photo.length,\n      total: data.photos.total,\n      photo: data.photos.photo\n    })\n    \n    return !this.#endOfStream ? data.photos.photo : FlickrDataSource.EMPTY_RESULTS\n  }\n}\n"],"names":[],"mappings":"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"}