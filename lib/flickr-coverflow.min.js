(function(){var j,k,a;typeof console!=="undefined"&&console!==null&&console.log('*** WARNING *** Enhancing String object with "capitalize()" method');String.prototype.capitalize=function(){return this.length>1?""+this[0].toUpperCase()+this.slice(1,this.length+1||9E9).toLowerCase():(this.length=1,this.toUpperCase())};typeof Logger!=="undefined"&&Logger!==null&&(a=new Logger({level:LogLevel.INFO}));k=function(){function b(c,b,h){this.size=c;this.containerSelector=b;this.renderIn3D=h!=null?h:!1;if(!d[this.size])throw Error(""+
this.size+" is not a valid flickr-coverflow size");if(!this.containerSelector||!$(this.containerSelector))throw Error(""+this.containerSelector+" is not a valid css selector");a!=null&&a.info("Render in 3D: "+this.renderIn3D);Number.prototype.percentOf=function(a){var c;if(!a)throw Error("width cannot be null or empty");c=a.replace(/\d*/,"");a=parseInt(a);return""+Math.round(this/100*a)+c};f=[0,0,(15).percentOf(this.width()),(35).percentOf(this.width()),(55).percentOf(this.width()),(70).percentOf(this.width()),
(70).percentOf(this.width())];delete Number.prototype.percentOf;a!=null&&a.debug("positions: "+f)}var d,f,g,c;d={tiny:{url:"url_t",height:"102px",width:"250px",imgMaxWidth:"71px",urlZoom:"url_s"},small:{url:"url_s",height:"202px",width:"480px",imgMaxWidth:"143px",urlZoom:"url_m"},medium:{url:"url_m",height:"302px",width:"960px",imgMaxWidth:"215px",urlZoom:"url_m"}};g=["-webkit-","-moz-","-o-","-ms-",""];c=function(a){var c;return function(){var b,e,d;d=[];for(b=0,e=g.length;b<e;b++)c=g[b],d.push(""+
c+"transform: "+a+";");return d}().join("\n")};f=[];b.prototype.style3d=function(){return"<style>\n\t.flickrCoverflow-image[data-position='0'] {\n\t\t"+c("perspective(700px) scale(.2) translateZ(0) rotateY(0)")+"\n\t}\n\n\t.flickrCoverflow-image[data-position='1'] {\n\t\t"+c("perspective(700px) scale(.65) translateZ(0) rotateY(45deg)")+"\n\t}\n\n\t.flickrCoverflow-image[data-position='2'] {\n\t\t"+c("perspective(500px) scale(.65) translateZ(100px) rotateY(45deg)")+"\n\t}\n\n\t.flickrCoverflow-image[data-position='3'] {\n\t\t"+
c("perspective(0) scale(1) translateZ(200px) rotateY(0deg)")+"\n\t}\n\n\t.flickrCoverflow-image[data-position='4'] {\n\t\t"+c("perspective(500px) scale(.65) translateZ(100px) rotateY(-45deg)")+"\n\t}\n\n\t.flickrCoverflow-image[data-position='5'] {\n\t\t"+c("perspective(700px) scale(.65) translateZ(0) rotateY(-45deg)")+"\n\t}\n\n\t.flickrCoverflow-image[data-position='6'] {\n\t\t"+c("perspective(700px) scale(.2) translateZ(0) rotateY(0)")+"\n\t}\n\t\n\t.flickrCoverflow-previous,\n\t.flickrCoverflow-next {\n\t\t"+
c("translateZ(199px)")+"\n\t}\n</style>"};b.prototype.style=function(){return"<style>\n\t"+this.containerSelector+"{\n\t\ttext-align: center;\n\t\tposition: relative;\n\t\theight: "+this.height()+";\n\t\twidth: "+this.width()+";\n\t}\n\n\t.flickrCoverflow-image {\n\t\tdisplay: inline-block;\n\t\tmin-width: 80px;\n\t\tmin-height: 80px;\n\t\tmargin: 0;\n\t\tvertical-align: bottom;\n\t\ttext-align: center;\n\t\tposition: absolute;\n\t\tleft:0;\n\t\tbottom: 0;\n\t\tz-index: 0;\n\t}\n\n\t.flickrCoverflow-title {\n\t\tdisplay: none;\n\t\tbackground-color: #000;\n\t\tcolor: #fff;\n\t\tfont-family: Helvetica, Tahoma, Arial, Verdana;\n\t\tfont-size: .7em;\n\t\twidth: 80px;\n\t\tword-wrap: break-word;\n\t\ttext-overflow: ellipsis;\n\t\toverflow:hidden;\n\t\twhite-space: nowrap;\n\t\tbottom: 0;\n\t}\n\n\t.flickrCoverflow-image[data-template=yes],\n\t.flickrCoverflow-image[data-position='none'] {\n\t\tdisplay: none;\n\t\topacity: 0;\n\t}\n\n\t:not(.flickrCoverflow-image[data-position='none']) {\n\t\tdisplay: inline-block;\n\t\topacity: 1;\n\t}\n\t\n\t.flickrCoverflow-previous,\n\t.flickrCoverflow-next {\n\t\tposition: absolute;\n\t\tz-index: 3;\n\t\twidth: 50%;\n\t\theight: 100%;\n\t\tcursor: pointer;\n\t}\n\t\n\t.flickrCoverflow-previous {\n\t\tleft: 0;\n\t}\n\t\n\t.flickrCoverflow-next {\n\t\tright: 0;\n\t}\n\n\t/***/\n\n\t.flickrCoverflow-image[data-position='0'] {\n\t\tz-index: 0;\n\t\topacity: 0;\n\t\tmargin-left: "+
this.position(0)+";\n\t}\n\n\t.flickrCoverflow-image[data-position='1'] {\n\t\tz-index: 1;\n\t\tmargin-left: "+this.position(1)+";\n\t}\n\n\t.flickrCoverflow-image[data-position='2'] {\n\t\tz-index: 2;\n\t\tbox-shadow: 0 0 10px #000;\n\t\tmargin-left: "+this.position(2)+";\n\t}\n\n\t.flickrCoverflow-image[data-position='3'] {\n\t\tz-index: 4;\n\t\tbox-shadow: 0 0 20px #000;\n\t\tmargin-left: "+this.position(3)+";\n\t}\n\n\t.flickrCoverflow-image[data-position='4'] {\n\t\tz-index: 2;\n\t\tbox-shadow: 0 0 10px #000;\n\t\tmargin-left: "+
this.position(4)+";\n\t}\n\n\t.flickrCoverflow-image[data-position='5'] {\n\t\tz-index: 1;\n\t\tmargin-left: "+this.position(5)+";\n\t}\n\n\t.flickrCoverflow-image[data-position='6'] {\n\t\tz-index: 0;\n\t\topacity: 0;\n\t\tmargin-left: "+this.position(6)+";\n\t}\n\n\t/***/\n\n\t.flickrCoverflow-img {\n\t\tvertical-align: inherit;\n\t\tmax-height: 100%;\n\t}\n</style>"};b.prototype.position=function(c){if((c!=null?c.constructor:void 0)!==Number)throw Error("position must be a not null Number");a!=
null&&a.debug("positions: "+f);a!=null&&a.debug("calculating position("+c+") = "+f[c]);return f[c]};b.prototype.width=function(){return d[this.size].width};b.prototype.height=function(){return d[this.size].height};b.prototype.url=function(){return d[this.size].url};b.prototype.urlZoom=function(){return d[this.size].urlZoom};b.prototype.maxWidth=function(){return d[this.size].imgMaxWidth};b.prototype.apply=function(){var c;a!=null&&a.debug("about to apply required style");c=$("head");this.renderIn3D&&
c.prepend(this.style3d());c.prepend("<style>\n\t.flickrCoverflow-img {\n\t\tmax-width: "+this.maxWidth()+";\n\t}\n</style>");return c.prepend(this.style())};return b}();j=function(){function b(c,b,d,h){var e,f;this.apiKey=c;this.user=b;this.htmlNode=d;this.options=h!=null?h:{size:"tiny"};if(a!=null)a.info("Coverflow html node: <"+(typeof(f=this.htmlNode).prop==="function"?f.prop("tagName"):void 0)+":"+this.htmlNode.selector+"/>");if(this.pageSize%2===0)throw Error("page size must be odd, actual = "+
this.pageSize);this.htmlNode.attr({"data-version":g});this.createImageTemplate();this.style=new k(this.options.size,this.htmlNode.selector,this.options.renderIn3D);this.style.apply();this.offset=this.startX=0;this.photos=[];this.page=1;this.median=(this.pageSize-1)/2;this.medianImage=".flickrCoverflow-image[data-position='"+this.median+"']";this.source+="&api_key="+this.apiKey+"&user_id="+this.user+"&per_page="+this.pageSize*2;this.attachEvents();if(typeof logLevelIsTrace==="function"&&logLevelIsTrace())for(e in this)c=
this[e],a!=null&&a.trace(""+e+": "+c);if(typeof logLevelIsTrace==="function"&&logLevelIsTrace())for(e in b=this.htmlNode,b)c=b[e],a!=null&&a.trace("@htmlNode properties: \n"+e+": "+c)}var d,f,g;d=!1;g="0.5.2";f=function(){return $.os.ios||$.os.android||$.os.webos||$.os.touchpad||$.os.iphone||$.os.ipad||$.os.blackberry&&/7\.[1-9]\d*/g.test($.os.version)};b.prototype.images=".flickrCoverflow-image[data-template=no]";b.prototype.previousButton=".flickrCoverflow-previous";b.prototype.nextButton=".flickrCoverflow-next";
b.prototype.pageSize=7;b.prototype.source="http://www.flickr.com/services/rest/?method=flickr.people.getPublicPhotos&format=json&nojsoncallback=1&extras=url_t,url_s,url_m";b.prototype.version=function(){return g};b.prototype.createImageTemplate=function(){return this.htmlNode.html('<div class="flickrCoverflow-previous"></div>\n<div class="flickrCoverflow-next"></div>\n<div class="flickrCoverflow-image" data-template="yes">\n\t<img class="flickrCoverflow-img" src="data:image/png;base64,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"/>\n\t<div class="flickrCoverflow-title">No title</div>\n</div>')};
b.prototype.load=function(){var c,b=this;c=""+this.source+"&page="+this.page;a!=null&&a.info("load > Page source: "+c);return $.getJSON(c,function(c){var f,e,g,i;if(!b.photos.length||!c.photos.photo.length&&!d){d=!c.photos.photo.length;f={placeHolder:!0,title:"none",url_t:"data:image/png;base64,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",
url_s:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABGdBTUEAALGPC/xhBQAACQBJREFUeF7tm4lWIkkQRfX/v6pnuhUR94VFUdxQURE3FBRy4kZWQEmLQBVtq5N5joeC3F/G+rKcXV4vu5lQfkPAOTczOzs7Y59DIQLA9/92R9SP6v9165fWRu99ZjSAXxeAj9hbAHCkBr4vQAHAAODfNTFBAoMEBgn80mFSUOGgwkGFgwp/RMT/WecINjDYwGADgw38rPbpI9YVbGCwgcEGBhv4Ebbms84RbGCwgcEG/n9t4JKIP3/TsE/TGmcaa5lkjMQ2UMFb3XW51R0Xvz/lefC3UQuiz+LK63FG9fks9YkBzAl4W4UDt1M+cctrfvP8rW3tuZ29E3keDxDrd3Ry4XJj9vks4OlbHUkXk10uuZu7prz54Nzl1Y1bWCq6RZHGysGZ/rYUk8ylNZFWBfh3dafPwdG59tmrnHrpjUxDvM9bY2i76OAGx+63928XDJqI99Y0CSapAKw37l2329XNI3mACggUU+PFlZKCm10uymdBVTW+QDayIHXr2/vahnraafuoD2PxbGMoaOu7Op8fm8+CzBmBJfX99r4+kyv2DjGra4rmkM9xXuEYBmoqABs3D+5WpPDxseVarWf3K7v9CkA2Ud73gFopC8BsyBYEOAb6uhzCUfXCPT+/uNPzeq/PhoD7+Pik36kDKIB7eHjsDyznSDvG49Du7712UM6isRb1QIquenbVq3t8aonmlBKDmArAawHwqdV2m/mKLqhUPna7e1V9XhSQsJGUq/qtbqp+faff+Z2NAiIqbAAixQfHXp0bN/e9cfl+XL1U26qA1OoKRLlS1XEyuYJrtZ8FXDnEhW3tS9kuHjoOxUpmseD2IxOzurnn+N7pdrR9/FA/TIUBsC0S8W9m03GSznVl0R60BdkUwOmzbJaNojoUbKYteBDASgQgqjwvY1zWb7TP3GLezWXzajKQ+gw2V9ogqXfy/eXlRdv9zGz15kBtmbt2ce3HWNjSdbYFbJzW8emle2h6KWa8SYCztqklEADnc3m3JidKqV02/IJk8zd3D/o8LyeNrZsXECj1xp3as7ck0ADEIy+IFF/WbbyibvKl03U3tw9SV9CxAKO8X3XXMqYCKBJIORU15ZCY57zmAfwlAL68dNQMIHUcREPG8uvpm5VJgJwKgBhkTtqkhcVm5fuJqB1lY7uiEmTSeXBU6zmTYRI4DMCOAHgtzgv1pSDZ/8xvuKtrL+1oA22QSObELj89tbVuTp4B37fb0rpfItUc9vIY7wK+BWwqAG/FUHdEpQAQT8YpWlGVldPvdjr6k9m/drutYJvnA0CzS9irw5OatieORALrDQ8M6ogEUu5k3pWNsj4jgXf3fWeCmhd2j3vr4KEldpqCWVmN+vEdMOlfPbv8LToYVwoTA4gnLMpCd0V9cngxcQiAhuGuSFxngTRgVQ7P1Q4hNXHwND4T4PGexIIrEprgkHi2jKawc6QAAzTj48VLMi8eHmdUu2i4PakHUPr5g8OrinOS35Es8+g+1GGckjs8rmlfbCEhVNJQJjGAbB4QLfDthyWv0zJL03AggPDWQuOp3GBaxxz0i4c9Fu/xGR/X0kGAVQ8tc+blALy03atE26HRVvumTCFTATiumH9kOw50/+B17Hkv8aJqSUI79976vx2A5tk1dBI1tmzlT4CXKhf+SKlKMlc/Rx79pn2S8VPHgWkm/U59P5UKxx1IDkIgymDeA1xZoAGCwtr7QDpZgDzuIX8aAH3YUtKwghBkK38gAXHHFXeOe3nz4KYAry35b1XSuUEQAe46yjYs6xkXlEnaTQ3AcWxO/ApgsD3esyTkLAVCYVMApEBOGDU2yP0RXFPIQnzs50ldAABciA7SNuI/AyXeZhKghrWdCoB9zs/zcxZbkTkQa/nYy2+KAFj5vR6P59uwMfJb0r6MbJiAnLJTrkYcoef14l6VFIxyIeQEKZnV2fiPksKRafhMyfOO2iYaZxqeOTWAgBfn19gQQeyyZBUUsgAAAsyWpHGwIWQS8UJ/wCiIulLypUNVYQOQbCJeHppPSo/B1qgECutj6RrfCaSpMwA5ENT4NiI3rM9gVpREIlMDSDZQ2j0SRnpf6SaoKsrcoiTxokLQT7AwlrseSAq1IekaxALJPSkVhTy4UPJZA+lbHEDA2pPgGCBsHDhBuD8rpJSel/QM+U+oq0cvgbAwsC+sJT4G1w/DHNC4YKYGEDVAeshDOeGnFrwggOxrLkph0waUSo7QW0gpyXwzYpqxdflIbUm/4gCyacaD7THigL4/Mx5AbCASh4r25hQNaDaFKQfArOcISedOTq/UUVFYb1ovnQpAtVuimjDBFEA0CgsnwMbtd+h3+DcoJGOMYZltw8MAhLDgjwKNxTPe+ea22QOwFhG05MzmiNY293sAmq1siurD/xkPeCKE6l+VQL3GjIhU7j7+md8UdsbnoQogpKqcOncmFGycbQYV/CHtkSzKMADzotbG4f2Y21Aez0tTXwKxf8rtiUobsQoX2JR5UWE4QkpD1vJjblNNjTmdtBf6qSUwzgHa4lnslti4rAS42DMrgIfEmsH37b3N4l7EbGBRbOp2wXthHI6pP5Jj1P39w1MPzOeIzgcsCmoKQO32i0or9tjuU7z0cmfSVZNhzM64Nm+wXSoAjRpaFhvHzRcqAYWEKnNB5DOLkvCBZ+JZj3rxHGEGbenj2ZMzlVgueujLp/F7SCig71XO9LoAD0uIsysXTHhW4w6xqfB7SLllMIDm+UpPXTEuHv9cuEk4S+ZIG8qkBrDPr/W5tTjHZiDGeUP7DXA1A+Ez4gpzys953rD/7G/vAME4SH+r1+ce+/XRWxIRwevntftif+WZXeZzvDcnRknmVAAcNYmC/M5LSPG6Yc9vzTHKfo2qH2fdo9p8GICjFvJV6wOAKV/PCwAGAKfzgmdSExIkMEhgkMBEL/UkVblp9wsqHFQ4qHBQ4Wnbla80XrCBwQb+ZRuYlg/7Sur2J9YqKvz2P8D8icm+45gzsLRBCpObgZkAXnLwwC544YReGPBW0vyz4Xe0Z5PuKUhgQumLAx1UOCWIAcAAYHIvOqnNe6t9kMAggUECvzQf+B/tJ7GcMqA9jwAAAABJRU5ErkJggg==",
url_m:"data:image/png;base64,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"};
for(e=0;e<=2;++e)b.photos.push(f)}i=c.photos.photo;for(e=0,g=i.length;e<g;e++)f=i[e],b.photos.push(f);a!=null&&a.debug(""+b.photos.length+" loaded");a!=null&&a.debug(""+c.photos.total+" photos to handle");c=b.photos.slice(b.offset,b.pageSize);for(e=0,g=c.length;e<g;e++)f=c[e],b.appendPhoto(f);b.setImagesPosition();return b.addZoomEvent()})};b.prototype.appendPhoto=function(c,b){var d;b==null&&(b=null);a!=null&&a.debug("append photo");d=this.createImageFrom(c);$("img",d).error(function(){a!=null&&
a.error("Cannot load '"+c.title+"' ("+$(this).attr("src")+")");$(this).off("error").attr("src","data:image/png;base64,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");
return $(".flickrCoverflow-title",d).show()});return this.htmlNode.append(d)};b.prototype.createImageFrom=function(c){var b;a!=null&&a.debug("photo: "+c.title+", "+this.style.url()+": "+c[this.style.url()]);b=$(".flickrCoverflow-image[data-template=yes]").clone();b.attr({"data-template":"no","data-show":"yes",title:c.title,"data-zoom-url":c[this.style.urlZoom()]});$("img",b).attr({src:c[this.style.url()],alt:c.title});$(".flickrCoverflow-title",b).text(c.title);c.placeHolder&&b.css({display:"none"});
return b};b.prototype.attachEvents=function(){a!=null&&a.debug("median = "+this.median);a!=null&&a.debug("offset in attachEvents: "+this.offset);return f()?this.attachTouchEvents():(this.attachNextEvent(),this.attachPreviousEvent())};b.prototype.attachNextEvent=function(){var a=this;return $(this.nextButton,this.htmlNode).bind("mousedown",function(){return a.next()}).css("cursor","pointer")};b.prototype.attachPreviousEvent=function(){var a=this;return $(this.previousButton,this.htmlNode).bind("mousedown",
function(){return a.previous()}).css("cursor","pointer")};b.prototype.addZoomEvent=function(){var c,b,d=this;b=f()?"tap":"click";a!=null&&a.debug("median image selector: '"+this.medianImage+"'");c=$(this.medianImage,this.htmlNode).css({cursor:"pointer"});return c.bind(b,function(){a!=null&&a.debug("about to trigger 'zoom' event");return d.htmlNode.trigger($.Event("zoom",{zoomUrl:c.attr("data-zoom-url")}))})};b.prototype.hasNext=function(){return this.photos[this.offset+this.pageSize]};b.prototype.next=
function(){a!=null&&a.debug("next image");a!=null&&a.debug("offset before next: "+this.offset);typeof logLevelIsTrace==="function"&&logLevelIsTrace()&&a!=null&&a.trace("nextPhotoIsLoaded: "+this.nextPhotoIsLoaded());this.hasNext()&&(this.clearZoomEvent(),$(this.images).eq(this.offset).attr({"data-show":"no","data-position":"none"}),this.nextPhotoIsLoaded()?(a!=null&&a.debug("next photo is loaded"),this.showNextPhoto(),this.offset++,this.loadNewPageIfPageChanged()):(a!=null&&a.debug("next photo is NOT loaded"),
this.appendNextPhotoIfAny()),this.setImagesPosition(),this.addZoomEvent());return a!=null?a.debug("offset after next: "+this.offset):void 0};b.prototype.nextPhotoIsLoaded=function(){a!=null&&a.debug("nextPhotoIsLoaded: images = "+this.images);a!=null&&a.debug("nextPhotoIsLoaded: offset = "+this.offset);a!=null&&a.debug("nextPhotoIsLoaded: pageSize = "+this.pageSize);return $(this.images).eq(this.offset+this.pageSize).attr("class")};b.prototype.clearZoomEvent=function(){return $(this.medianImage,this.htmlNode).off("tap click")};
b.prototype.showNextPhoto=function(){a!=null&&a.debug("show photo");return $(this.images).eq(this.offset+this.pageSize).attr({"data-show":"yes"})};b.prototype.loadNewPageIfPageChanged=function(){if(!this.isSamePage()&&(this.page++,a!=null&&a.debug("page "+this.page),!this.nextPhotoIsLoaded()))return this.load()};b.prototype.isSamePage=function(){return this.offset%this.pageSize!==0};b.prototype.appendNextPhotoIfAny=function(){var c;if(c=this.hasNext())return a!=null&&a.debug("photo '"+c.title+"' exists at index "+
(this.offset+this.pageSize)),this.offset++,this.appendPhoto(c),this.loadNewPageIfPageChanged()};b.prototype.setImagesPosition=function(){var c,b,d,f,e,g;e=$(".flickrCoverflow-image[data-show='yes']");g=[];for(b=d=0,f=e.length;d<f;b=++d)c=e[b],a!=null&&a.debug("position + median: "+b+", image: "+c),g.push($(c).attr({"data-position":b}));return g};b.prototype.previous=function(){a!=null&&a.debug("previous image");a!=null&&a.debug("offset before previous: "+this.offset);this.offset&&(this.clearZoomEvent(),
$(this.images).eq(this.offset+this.pageSize-1).attr({"data-show":"no","data-position":"none"}),this.offset--,$(this.images).eq(this.offset).attr({"data-show":"yes"}),this.setImagesPosition(),this.addZoomEvent());return a!=null?a.debug("offset after previous: "+this.offset):void 0};b.prototype.touchMoveHandler=function(){var b;b=event.targetTouches[0].pageX;this.deltaX=b-this.startX;a!=null&&a.trace("@deltaX: "+this.deltaX);if(this.deltaX>70)a!=null&&a.debug("@deltaX before previous(): "+this.deltaX),
this.startX=b,this.deltaX=0,this.previous(),a!=null&&a.debug("@deltaX after previous(): "+this.deltaX);if(this.deltaX<-70)return a!=null&&a.debug("@deltaX before next(): "+this.deltaX),this.startX=b,this.deltaX=0,this.next(),a!=null?a.debug("@deltaX after next(): "+this.deltaX):void 0};b.prototype.attachTouchEvents=function(){var b=this;a!=null&&a.debug("attaching touch events");a!=null&&a.debug("@htmlNode.id: "+this.htmlNode.attr("id"));this.htmlNode.bind("touchstart",function(d){b.startX=d.targetTouches[0].pageX;
return a!=null?a.debug("@startX: "+b.startX):void 0});this.htmlNode.bind("touchmove",function(){return b.touchMoveHandler()});return this.htmlNode.bind("touchend",function(){return b.deltaX=0})};return b}();(function(b){return b.fn.flickrCoverflow=function(b,f,g){g==null&&(g={size:"tiny"});a!=null&&a.info("Using flickrCoverflow jQuery plugin");this.css("display")!=="none"?(b=new j(b,f,this,g),b.load(),a!=null&&a.info("flickrCoverflow selector: "+b.htmlNode.selector)):a!=null&&a.info(""+this.attr("id")+
" is not visible, no need to create coverflow");return this}})($)}).call(this);
